RUN echo "正在为您安装lingkong-robot"
RUN if ! command -v brew > /dev/null; then /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"; fi
RUN if ! command -v python3 > /dev/null; then brew install python3; fi
RUN if ! command -v git > /dev/null; then brew install git; fi
RUN if ! brew info wget > /dev/null; then brew install wget; fi
RUN if ! brew info portaudio > /dev/null; then brew install portaudio; fi
RUN if ! brew info sox > /dev/null; then brew install sox; fi
RUN if ! brew info ffmpeg > /dev/null; then brew install ffmpeg; fi
RUN if ! brew info swig > /dev/null; then brew install swig; fi
RUN pip3 config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
RUN sudo pip3 install builtwith
RUN sudo pip3 install requests
RUN sudo pip3 install tornado==5.1.1
RUN sudo pip3 install selenium
RUN brew install mpg123
RUN sudo pip3 install fake_useragent
RUN if [ ! -d $PWD/temp ]; then mkdir $PWD/temp; fi
WORKDIR $PWD/temp
RUN wget http://hahack-1253537070.file.myqcloud.com/misc/snowboy.tar.bz2
RUN tar -xvjf snowboy.tar.bz2
WORKDIR $PWD/temp/snowboy/swig/Python3
RUN make
RUN cp _snowboydetect.so ${PWD}/snowboy/
RUN rm -rf $PWD/temp
WORKDIR ${PWD}
RUN echo "lingkong-robot 已安装完成!"

